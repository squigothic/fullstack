{"ast":null,"code":"import _slicedToArray from \"/home/squi/javascript/fullstack/osa5-5.21/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/squi/javascript/fullstack/osa5-5.21/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nvar useField = function useField(type) {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      value = _useState2[0],\n      setValue = _useState2[1];\n\n  var onChange = function onChange(event) {\n    setValue(event.target.value);\n  };\n\n  return {\n    type: type,\n    value: value,\n    onChange: onChange\n  };\n};\n\nvar useResource = function useResource(baseUrl) {\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      resources = _useState4[0],\n      setResources = _useState4[1];\n\n  var token = null;\n\n  var setToken = function setToken(newToken) {\n    token = \"bearer \".concat(newToken);\n  };\n\n  var create = function create(resource) {\n    var config = {\n      headers: {\n        Authorization: token\n      }\n    };\n  };\n\n  var getAll = function getAll() {\n    var request = axios.get(baseUrl);\n    return request.then(function (response) {\n      return response.data;\n    });\n  };\n\n  var service = {\n    create: create,\n    setToken: setToken,\n    getAll: getAll\n  };\n  return [resources, service];\n};\n\nvar App = function App() {\n  var content = useField('text');\n  var name = useField('text');\n  var number = useField('text');\n\n  var _useResource = useResource('http://localhost:3005/notes'),\n      _useResource2 = _slicedToArray(_useResource, 2),\n      notes = _useResource2[0],\n      noteService = _useResource2[1];\n\n  var _useResource3 = useResource('http://localhost:3005/persons'),\n      _useResource4 = _slicedToArray(_useResource3, 2),\n      persons = _useResource4[0],\n      personService = _useResource4[1];\n\n  var handleNoteSubmit = function handleNoteSubmit(event) {\n    event.preventDefault();\n    noteService.create({\n      content: content.value\n    });\n  };\n\n  var handlePersonSubmit = function handlePersonSubmit(event) {\n    event.preventDefault();\n    personService.create({\n      name: name.value,\n      number: number.value\n    });\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \"notes\"), React.createElement(\"form\", {\n    onSubmit: handleNoteSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"input\", Object.assign({}, content, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"create\")), notes.map(function (n) {\n    return React.createElement(\"p\", {\n      key: n.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, n.content);\n  }), React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"persons\"), React.createElement(\"form\", {\n    onSubmit: handlePersonSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"name \", React.createElement(\"input\", Object.assign({}, name, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  })), \" \", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }), \"number \", React.createElement(\"input\", Object.assign({}, number, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, \"create\")), persons.map(function (n) {\n    return React.createElement(\"p\", {\n      key: n.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, n.name, \" \", n.number);\n  }));\n};\n\nexport default App;","map":{"version":3,"sources":["/home/squi/javascript/fullstack/osa5-5.21/src/App.js"],"names":["React","useState","useEffect","axios","useField","type","value","setValue","onChange","event","target","useResource","baseUrl","resources","setResources","token","setToken","newToken","create","resource","config","headers","Authorization","getAll","request","get","then","response","data","service","App","content","name","number","notes","noteService","persons","personService","handleNoteSubmit","preventDefault","handlePersonSubmit","map","n","id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\n\n\nconst useField = (type) => {\n  const [value, setValue] = useState('')\n\n  const onChange = (event) => {\n    setValue(event.target.value)\n  }\n\n  return {\n    type,\n    value,\n    onChange\n  }\n}\n\nconst useResource = (baseUrl) => {\n  const [resources, setResources] = useState([])\n\n  let token = null\n\n  const setToken = newToken => {\n    token = `bearer ${newToken}`\n  }\n\n  const create = (resource) => {\n    const config = {\n      headers: { Authorization: token },\n    }\n  }\n\n  const getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n  }\n\n  const service = {\n    create,\n    setToken,\n    getAll\n  }\n\n  return [\n    resources, service\n  ]\n}\n\nconst App = () => {\n  const content = useField('text')\n  const name = useField('text')\n  const number = useField('text')\n\n  const [notes, noteService] = useResource('http://localhost:3005/notes')\n  const [persons, personService] = useResource('http://localhost:3005/persons')\n\n  const handleNoteSubmit = (event) => {\n    event.preventDefault()\n    noteService.create({ content: content.value })\n  }\n\n  const handlePersonSubmit = (event) => {\n    event.preventDefault()\n    personService.create({ name: name.value, number: number.value })\n  }\n\n  return (\n    <div>\n      <h2>notes</h2>\n      <form onSubmit={handleNoteSubmit}>\n        <input {...content} />\n        <button>create</button>\n      </form>\n      {notes.map(n => <p key={n.id}>{n.content}</p>)}\n\n      <h2>persons</h2>\n      <form onSubmit={handlePersonSubmit}>\n        name <input {...name} /> <br />\n        number <input {...number} />\n        <button>create</button>\n      </form>\n      {persons.map(n => <p key={n.id}>{n.name} {n.number}</p>)}\n    </div>\n  )\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}